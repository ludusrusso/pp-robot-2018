<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>LaserBot Battle | Login</title>

  <!--Scalable content -->
  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
  <!-- Bootstrap 4.0.0 -->
  <link href="static/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />    
  <!-- FontAwesome 4.7.0 -->
  <link href="static/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <!-- Ionicons 2.0.1 -->
  <link href="static/ionicons-2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css" />    
  <!-- Theme style -->
  <link href="static/css/app.min.css" rel="stylesheet" type="text/css" />
  <!-- App Skins -->
  <link href="static/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
  <!-- JS functions -->
  <script src="static/js/manageUsers.js" type="text/javascript"></script>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->

  <!-- jQuery 2.1.3 -->
  <script src="static/jquery-2.1.3/jQuery-2.1.3.min.js"></script>
  <!-- jQuery UI 1.11.4 -->
  <script src="static/jquery-ui-1.11.4/jquery-ui.min.js" type="text/javascript"></script>
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <script>
    $.widget.bridge('uibutton', $.ui.button);
  </script>
  <!-- Bootstrap 4.0.0 JS -->
  <script src="static/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>    
  <!-- App -->
  <script src="static/js/app.js" type="text/javascript"></script>


  <script type="text/javascript">
    // Check if user was previously logged in
    if (localStorage.getItem("user")!== null){
      currentUser = JSON.parse(localStorage.getItem("user"));
      if (confirm("You previously logged as \""+ currentUser.name + "\".\n"
        + "Do you want to restore your previous session?")) {
        // Yes: restore previous session
      location.href = "home.html";
    } else {
        // No: remove previous session
        localStorage.removeItem("user");
        delUser();
      }
    }

    //enable login at enter key press
    $(document).ready(function(){
      $("#username").on('keypress', function(event) {
        if (event.keyCode == 13) userLogin();
      })
    });

    $('form').submit(false);

  </script>
  
</head>
<body class="lockscreen">

    <!-- Automatic element centering -->
    <div class="lockscreen-wrapper">
      <div class="lockscreen-logo">
        <b>LaserBot</b> Battle
      </div>
      <!-- User name -->
      <div class="lockscreen-name">LOGIN</div>

      <!-- START LOCK SCREEN ITEM -->
      <div class="lockscreen-item">
        <!-- user image -->
        <div class="lockscreen-image">
          <img src="static/img/robot_head-512.png" alt="user image"/>
        </div>
        <!-- /.user-image -->

        <!-- user credentials (contains the form) -->
        <div class="lockscreen-credentials">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="username" id="username">
            <div class="input-group-btn">
              <button class="btn" onclick="userLogin()" style="height: 20px;">
                <i class="fa fa-arrow-right text-muted"></i>
              </button>
            </div>
          </div>
        </div><!-- /.user credentials -->
      </div><!-- /.lockscreen-item -->

      <div class='text-center'>
        <a href="home.html"><small>Restore previous session if any</small></a>
      </div>
      <div class='lockscreen-footer text-center'>
        <b><a href="about.html" class='text-black'>ABOUT</a></b>
      </div>
    </div><!-- /.center -->

  </body>
</html> 